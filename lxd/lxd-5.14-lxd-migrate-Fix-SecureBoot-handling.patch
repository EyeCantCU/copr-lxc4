From c0db70d48adde2845c3c6b65dceac1d5b8e4910d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?St=C3=A9phane=20Graber?= <stgraber@ubuntu.com>
Date: Wed, 14 Jun 2023 16:55:35 -0400
Subject: [PATCH] lxd-migrate: Fix SecureBoot handling
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Closes #11829

Signed-off-by: St√©phane Graber <stgraber@ubuntu.com>
---
 lxd-migrate/main_migrate.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/lxd-migrate/main_migrate.go b/lxd-migrate/main_migrate.go
index 73c229a2c7c2..1963b0d6cbec 100644
--- a/lxd-migrate/main_migrate.go
+++ b/lxd-migrate/main_migrate.go
@@ -349,8 +349,8 @@ func (c *cmdMigrate) RunInteractive(server lxd.InstanceServer) (cmdMigrateData,
 				return cmdMigrateData{}, err
 			}
 
-			if hasSecureBoot {
-				config.InstanceArgs.Config["security.secureboot"] = "true"
+			if !hasSecureBoot {
+				config.InstanceArgs.Config["security.secureboot"] = "false"
 			}
 		}
 	}
