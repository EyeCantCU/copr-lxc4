From 668eef85f6c72f221aa70170663134d081a45a4e Mon Sep 17 00:00:00 2001
From: Mark Laing <mark.laing@canonical.com>
Date: Mon, 27 Jun 2022 11:08:14 +0100
Subject: [PATCH] lxd/network/openvswitch: Use %s so that delimiting quotes are
 not escaped.

Signed-off-by: Mark Laing <mark.laing@canonical.com>
---
 lxd/network/openvswitch/ovn.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/lxd/network/openvswitch/ovn.go b/lxd/network/openvswitch/ovn.go
index 3f3315e08b4..bac6b5d5b78 100644
--- a/lxd/network/openvswitch/ovn.go
+++ b/lxd/network/openvswitch/ovn.go
@@ -433,8 +433,8 @@ func (o *OVN) LogicalRouterPortAdd(routerName OVNRouter, portName OVNRouterPort,
 			}
 
 			_, err := o.nbctl("set", "Logical_Router_Port", string(portName),
-				fmt.Sprintf("networks=%q", strings.Join(ips, `","`)),
-				fmt.Sprintf("mac=%q", mac.String()),
+				fmt.Sprintf(`networks="%s"`, strings.Join(ips, `","`)),
+				fmt.Sprintf(`mac="%s"`, mac.String()),
 				fmt.Sprintf("options:gateway_mtu=%d", gatewayMTU),
 			)
 			if err != nil {
